<!doctype html>
<html lang="en">

<head>
	
	<meta charset="utf-8">
	<title>Elections</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<meta name="theme-color" media="(prefers-color-scheme: light)" content="#FFFFFF">
	<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#101010">
	
	<link rel="icon" type="image/svg+xml" href="/web/img/favicon.svg?">
	<link rel="icon" type="image/png" href="/web/img/favicon.png?">
	
	<link rel="stylesheet" type="text/css" href="/web/css/reset.css">
	<link rel="stylesheet/less" type="text/css" href="/web/css/fonts.less">
	<link rel="stylesheet/less" type="text/css" href="/web/elections/css/index.less">
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<script type="text/javascript" src="/web/js/less.js"></script>
	
</head>

<body>
	
	
	
	<section>
	
		<div class="widget-prez">
			
			<div class="hgroup">
				<h1>Presidential Results</h1>
				<ul>
					<li class="timestamp">Updated: <strong>5m ago</strong></li>
					<!-- <li>13% In</li> -->
					<li><a href="">Exit Poll</a></li>
				</ul>
			</div>
			
			<iframe src="embed-prez.html" marginheight="0" scrolling="no" align="texttop" id="embedPrez" title="Embed Example"></iframe>
		
		</div>
	
	</section>
	
	
	
	<section>
	
		<div class="widget-prez-results">
			
			<div class="hgroup">
				<h1>Presidential Results by State</h1>
			</div>
			
			<div id="results-menu" class="wireframe">drop-down menu</div>
			
			<ul id="results">
				<li><div class="wireframe">state results</div></li>
				<li><div class="wireframe">state results</div></li>
				<li><div class="wireframe">state results</div></li>
				<li><div class="wireframe">state results</div></li>
			</ul>
			
		</div>
	
	</section>
	
	
	
	<div style="height:300px;"></div>
	
	
	
	<h1>2024 Primaries: delegate tracker CSS styles:</h1>
	<div class="del-tracker-r"></div>
	<div class="del-tracker-d"></div>



	<script>
	
		// IFRAME RESIZE (VANILLA JAVASCRIPT):
		
		function checkIframe(id) {
			console.log('iframe resize function fired');
			var newheight;
			if(document.getElementById) {
				newheight=document.getElementById(id).contentWindow.document .body.scrollHeight;
			}
			document.getElementById(id).height= (newheight) + 'px';
		}
		
		//window.addEventListener('load', onLoadFunction);
		//function onLoadFunction(e) {
		//	checkIframe('embedPrez');
		//}
		//window.addEventListener('resize', onResizeFunction);
		//function onResizeFunction(e) {
		//	checkIframe('embedPrez');
		//}
		
		//window.addEventListener('load', (event) => {
		//	console.log('Page loaded');
		//	checkIframe('embedPrez');
		//});
		
		//document.addEventListener('DOMContentLoaded', (event) => {
		//	console.log('DOM fully loaded and parsed');
		//	checkIframe('embedPrez');
		//});
		
		//if (document.readyState === "loading") {
			// Loading hasn't finished yet
		//	document.addEventListener('DOMContentLoaded', (event) => {
		//		checkIframe('embedPrez');
		//	});
		//} else {
			// 'DOMContentLoaded' has already fired
		//	checkIframe('embedPrez');
		//}
		
		//const iHateChrome = document.getElementById('embedPrez');
		//iHateChrome.onload = function() {
			// Code to execute when the iframe has loaded
		//	console.log('iframe has loaded');
		//	checkIframe('embedPrez');
		//};
		//checkIframe('embedPrez');
		
		//document.addEventListener('DOMContentLoaded', function() {
		//	console.log('DOM fully loaded and parsed');
		//	checkIframe('embedPrez');
	 	//});
		
		//$(document).ready(function() {
		//	console.log('document loaded');
		//	$('#embedPrez').height(
		//		$('#embedPrez').contents().find('html').height()
		//	);
		//});
		
		$(window).on('load', function() {
			adjustIframeHeight();
		});
		function adjustIframeHeight() {
			$('iframe').each(function() {
				var iframe = $(this).contents();
				$(this).height(iframe.find('body').height());
			});
		}
		
		// this seems to work fine in all browsers:
		window.addEventListener('resize', (event) => {
			console.log('Window resized');
			checkIframe('embedPrez');
		});
		
	</script>



</body>

</html>
