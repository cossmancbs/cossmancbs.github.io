<!doctype html>
<html lang="en">

<head>

	<meta charset="utf-8">
	<title>Nav Sticky</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" type="text/css" href="/web/css/reset.css">
	<link rel="stylesheet/less" type="text/css" href="/web/nav/css/sticky-v4b.less">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<script type="text/javascript" src="/web/js/gsap.min.js"></script>
	<script type="text/javascript" src="/web/js/ScrollTrigger.min.js"></script>
	<script type="text/javascript" src="/web/js/less.js"></script>

</head>

<body>





	<main>



		<div id="stickers">
			<div id="skbx">
				<ul>
					<li>SKYBOX: small state<br>
					breakpoint: &lt;[unknown] (mobile devices only)<br>
					expanded aspect ratio: approx. 16:9<br>
					collapsed aspect ratio: approx. 69:13<br>
					(the above aspect ratios are not represented in this prototype)</li>
					<li>SKYBOX: medium state<br>
					breakpoint: &ge;[unknown]<br>
					expanded aspect ratio: approx. 44:13<br>
					collapsed aspect ratio: approx. 132:13<br>
					(the above aspect ratios are not represented in this prototype)</li>
					<li>SKYBOX: large state<br>
					breakpoint: &ge;792<br>
					expanded aspect ratio: approx. 5:1<br>
					collapsed aspect ratio: approx. 61:4<br>
					(the above aspect ratios are not represented in this prototype)</li>
				</ul>
			</div>
			<div id="include-nav-main"></div>
		</div>

		<div id="include-nav-sub"></div>

		<div id="include-grid-hero-list-video"></div>
		<div id="include-grid-hero-list"></div>
		<div style="height:2000px"></div>



	</main>





	<script>



		//
		// INCLUDES
		//
		$(function(){
			$("#include-nav-main").load("nav-main.html");
			$("#include-nav-sub").load("nav-sub.html");
			$("#include-grid-hero-list-video").load("/web/components/grid-hero-list-video.html");
			$("#include-grid-hero-list").load("/web/components/grid-hero-list.html");
		});



		//
		// SKYBOX (GSAP ScrollTrigger)
		//
		gsap.registerPlugin(ScrollTrigger);
		gsap.set('#skbx', {
			height: 200
		});
		gsap.to('#skbx', {
			height: 100,
			scrollTrigger: {
				id: 'height',
				start: 'top top',
				end: '+=200',
				scrub: true
			}
		});



		//
		// NAV
		//
		$(document).ready(function() {

			function checkNav() {

				if ($(document).scrollTop() < 50) {
					$('#include-nav-main').removeClass('shadow-on');
					$('#include-nav-main').addClass('shadow-off');
				} else {
					$('#include-nav-main').addClass('shadow-on');
					$('#include-nav-main').removeClass('shadow-off');
				}

			}

			// Execute on load
			checkNav();
			// Bind event listener ("load" doesn't seem to work)
			$(window).on("load resize scroll",function(e){
				checkNav();
			});

		});



	</script>







</body>

</html>
